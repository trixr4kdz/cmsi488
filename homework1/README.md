# Homework 1

#### Problem 1
```
{
    "program": {
        "block": {
            
            "declare": {
                { "vars": "x" },
                { "vars": "y" }
            },
            
            "while": {
                "minus": {
                    "varref": {
                        "ref": "y"
                    },
                    "intlit": {
                        "value": 5
                    }
                },
                block: {
                    "declare": {
                        "vars": "y"
                    },
                    "read": {
                        "varref": {
                            { "ref": "x" },
                            { "ref": "y" }
                        }
                    },
                    "assign": {
                        "varref": "x",
                        "times": {
                            "intlit": {
                                "value": 2
                            },
                            "plus": {
                                "intlit": {
                                    "value": 3
                                },
                                "varref": {
                                    "ref": "y"
                                }
                            }
                        }
                    }
                }
            },
            "write": {
                "intlit": {
                    "value": 5
                }
            }
        }
    }
}
```

#### Problem 2
Abstract syntax tree for -8 * 5
```
                    *
                  /   \
                 -     \
                /       \
               8         5


````
The way the grammar for the expressions is written right now, there is no way to write a double negative (i.e., two negation signs in a row), which would make sense to prevent something like `x--5` to be treated as being a comment. The grammar would automatically detect that the user is writing a comment and not an expression once `--` is written since there is no way to get back to Exp1/Exp2 from Exp3 once the user types in one `-`.

If we were to move the `'-'?` from Exp2 to Exp5 in Exp4, the abstract syntax tree would then appear as:
```
           -
           |
           *
          / \
         8   5
```


#### Problem 3

```
id :=  [\p{L}$] ([\p{L}$\d_@])*
numlit :=  ( [0-9]+ (.)? [0-9]* (e (+ | -) [0-9]+)?)
escape := '\'[\'"rn] |  '\u'([A-Fa-f0-9]{4})
negatop := '-'
addop := '+' | '-'
multiop := '*' | '/'
factorialop := '!'
stringlit := '"' + [\p{L}]* + '"' | escape

Program := [funcall]+ && Exp
Exp := Exp1 ('if' Exp 'else' Exp)*
Exp1 := Exp2 (addop Exp2)*
Exp2 := Exp3 (multiop Exp3)*
Exp3 := (negatop)* Exp3
Exp4 := Exp5(factorialop)*
Exp5 := '(' Exp ')' | literals
literals := numlit | stringlit | id | funcall | Exp
funcdec := 'fun' id '(' (id (',' id)*)* ')' '{' (Exp;)+ '}'
funcall := id '('(Exp+(','Exp)*)* ')'
cond := Exp 'if' Exp 'else' Exp
```

#### Problem 4

```


                                                                                                                           +-----------+
                                                                                                                           |           |
                                                                                                                           |  Program  |
                                                                                                                           |           |
                                                                                                                           +-----+-----+
                                                                                                                                 |
                                                                                                                                 |
                                                                                                                                 |
                                                                                                                                 ^
                                                                                                                           +-----+-----+
                                                                                                                           |   Block   |
                                                                                                          +----------------+-----------+---------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
                                                                                                          |                                                                                |                                                                                                                                                               |
                                                                                                          |                                                                           +----+----+                                                                                                                                                          |
                                                                                                      +---+---+                                                                       | else    |                                                                                                                                                          |
                                                                                                      |  if   |                                                                       +----+----+                                                                                                                                                          |
                                   +------------------------------------------------------------------+---+---+                                                                            |                                                                                                                                                         +-----+----+
                                   |                                                                      |                                                                           +----+----+                                                                                                                                                    |   else   |
                                   |                                                                      |                                                +--------------------------+  if     +-------------+-----------------------------------------------------------------------------------------+                                            +-----+----+
                                   |                                                                      |                                                |                          +---------+             |                                                                                         |                                                  |
                              +---------+                                                            +----+----+                                           |                                                  |                                                                                         |                                                  |
                              |   ||    |                                                +-----------+fun call +--------+                                  |                                         +--------+------+                                                                                  |                                            +-----+-----+
             +----------------+---------+----+                                           |           +---------+        |                              +---------+                        +----------+   do while   |-----+------------------------------------------+                                  |                                            |   throw   |
             |                               |                                      +----+---+                          |                              |   ||    |                        |          +---------------+    |                                          |                                  |                                            |           |
             |                               |                                      |  write |                     +----+----+                    +----+---------+----+                   |                               |                                          |                              +---+----+                                       +-----+-----+
        +---------+                      +---+---+                                  +--------+                     |    *    |                    |                   |                   |                            +--+--+                                  +----+---+                      +---+   =    +--------------------+                        |
        |    >    |                      |   !   |                                                                 +---------+                    |                   |               +---+----+                 +-----+ =   +------------+                     | false  |                      |   +--------+                    |                        |
    +---+----+----+--+                   +---+---+                                                              +---+       +-----+           +---+---+           +---+---+       +---+ while  +---+             |     +-----+            |                     +--------+                      |                                 |                  +-----+-----+
    |                |                       |                                                                  |                 |           |   !   |           | there |       |   +--------+   |             |                        |                                                     |                                 |                  |   up      |
    |                |                       |                                                             +----+----+            |           +---+---+           +-------+       |                |         +---+---+               +----+--+                                                  |                                 |                  |           |
+---+---+       +----+---+              +----+-----+                                                       |  negate |        +---+---+           |                               |                |         |  x    |         +-----+   &   +------------+                                 +---+----+                       +----+--+               +-----------+
|   x   |       |    2   |       +------+fun call  +-------------+                                         +----+----+        |   q   |           |                               |                |         +-------+         |     +-------+            |                              +--+   .    +----+             +----+   .   +---------+
+-------+       +--------+       |      +----------+             |                                              |             +-------+       +---+------+                     +--+----+      +----+---+                       |                          |                              |  +--------+    |             |    +-------+         |
                                 |                               |                                          +---+---+                         |   here   |                     |close  |      | fun call                       |                          |                              |                |             |                      |
                            +----+-----+                    +----+----+                                     |   3   |                         +----------+                     +-------+      +----+---+                       |                          |                              |                |             |                      |
                        +---+    .     +--+              +--+fun call +---+                                 +-------+                                                                              |                       +---+---+                  +---+---+                          |                |        +----+-----+            +---+----+
                        |   +----------+  |              |  +---------+   |                                                                                                                    +---+-------+         +-----+       +---+           +--+    *  +---+                      ++              ++        |  person  |         +--+   []   +-+
                        |                 |        +-----+-+         +----+-----+                                                                                                              | tryHarder |         |     +-------+   |           |  +-------+   |                   +-------+       +--------+   +----------+         |  +--------+ |
                   +----+-----+    +------+---+    | f     |         |    x     |                                                                                                              +-----------+         |                 |           |              |                 +-+  []   +-+    ++fun call+--+                     |             |
                   |   String |    |  matches |    +-------+         +----------+                                                                                                                                    |                 |           |              |                 +---------+ |    +---------+  |                     |             |
                   +----------+    +----------+                                                                                                                                                                      |                 |           |              |                 |           |    |            |                 +---+--+    +-----++
                                                                                                                                                                                                                +----+-----+     +-----+----+  +---+---+       +--+---+             |           |    |            |                 |list  |    |  2   |
                                                                                                                                                                                                                |    x     |     |    3     |  |   2   |       |  x   |        +----+-+    +----+-+  +-------+  +-+------+          +------+    +------+
                                                                                                                                                                                                                +----------+     +----------+  +-------+       +------+        |  q   |    |  4   |  |  g    |  |   6    |
                                                                                                                                                                                                                                                                               +------+    +------+  +-------+  +--------+
